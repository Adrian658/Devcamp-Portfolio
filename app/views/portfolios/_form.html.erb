<%= form_with(model: @portfolio_item, local: true) do |form| %>

<% if @portfolio_item.errors.any? %>
  <% @portfolio_item.errors.full_messages.each do |error| %>
    <%= js add_gritter(error, title: "Adrian Guzman's Portfolio", sticky: false, time: 3000) %>
  <% end %>
<% end %>

<div class="row">
  <div class="col-md-6">
    <div class="form-group">
      <%= form.label :title %>
      <%= form.text_field :title, id: :title, class: 'form-control' %>
    </div>
    <div class="form-group">
      <%= form.label :subtitle %>
      <%= form.text_field :subtitle, id: :subtitle, class: 'form-control' %>
    </div>

    <div class="form-group">
      <label class="btn btn-secondary">
        Upload main image <%= form.file_field :main_image, style: 'display:none;' %>
      </label>
    </div>
    <div class="form-group">
      <label class="btn btn-secondary">
        Upload thumb image <%= form.file_field :thumb_image, style: 'display:none;' %>
      </label>
    </div>
  </div>
  <div class="col-md-6">
    <div class="form-group">
      <%= form.label :body %>
      <%= form.text_area :body, id: :body, class: 'form-control', rows: 13 %>
    </div>
  </div>
</div>

<div class="col-md-12">
  <hr>

  <h2>Technologies Used</h2>

  <div>
    <%= form.fields_for :technologies do |technology_form| %>
      <%= render 'technology_fields', f: technology_form %>
    <% end %>

    <div>
      <%= link_to_add_association 'Add Technology', form, :technologies %>
    </div>
  </div>

  <div class="form-group">
    <%= form.submit 'Save Portfolio Item', class: 'btn btn-secondary btn-block' %>
  </div>
</div>

<% end %>
